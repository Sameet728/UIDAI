<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aadhaar Insights </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@500;600;700;800&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Outfit', 'sans-serif'],
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'blob': 'blob 10s infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom scrollbar */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Glass effects */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
    </style>
</head>

<body
    class="bg-slate-50 text-slate-800 antialiased relative overflow-x-hidden selection:bg-indigo-100 selection:text-indigo-700">

    <div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none">
        <div
            class="absolute top-0 left-1/4 w-[500px] h-[500px] bg-indigo-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob">
        </div>
        <div
            class="absolute top-0 right-1/4 w-[500px] h-[500px] bg-purple-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob animation-delay-2000">
        </div>
        <div
            class="absolute -bottom-32 left-1/3 w-[500px] h-[500px] bg-pink-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob animation-delay-4000">
        </div>
    </div>

  <nav class="fixed w-full z-50 top-0 transition-all duration-300 glass shadow-sm/50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row justify-between items-center py-3 md:h-20 gap-4 md:gap-0">
            
            <div class="flex items-center gap-3 self-start md:self-auto">
                
                <div>
                    <span class="font-display font-bold text-xl tracking-tight text-slate-900">Aadhaar<span
                            class="text-indigo-600">Insights</span></span>
                    <p class="hidden xs:block text-[10px] text-slate-500 font-medium tracking-wider uppercase">Enterprise Analytics
                    </p>
                </div>
            </div>

            <div class="flex items-center w-full md:w-auto">
                <div
                    class="relative bg-slate-100 p-1.5 rounded-full flex shadow-inner w-full md:w-[360px] h-12 items-center border border-slate-200">
                    
                    <div id="nav-slider"
                        class="absolute left-1.5 top-1.5 w-[calc(33.33%-4px)] h-[calc(100%-12px)] bg-white rounded-full shadow-md shadow-slate-200/50 transition-all duration-300 ease-out">
                    </div>

                    <button onclick="switchTab('tableau')" id="nav-btn-tableau"
                        class="relative z-10 w-1/3 text-[10px] sm:text-xs font-bold text-indigo-600 transition-colors duration-300 h-full flex items-center justify-center gap-1 sm:gap-2 uppercase tracking-wide font-display">
                        <span>üìä</span> <span class="truncate">Tableau</span>
                    </button>
                    <button onclick="switchTab('sql')" id="nav-btn-sql"
                        class="relative z-10 w-1/3 text-[10px] sm:text-xs font-bold text-slate-500 hover:text-slate-700 transition-colors duration-300 h-full flex items-center justify-center gap-1 sm:gap-2 uppercase tracking-wide font-display">
                        <span>üíæ</span> <span class="truncate">SQL</span>
                    </button>
                    <button onclick="switchTab('python')" id="nav-btn-python"
                        class="relative z-10 w-1/3 text-[10px] sm:text-xs font-bold text-slate-500 hover:text-slate-700 transition-colors duration-300 h-full flex items-center justify-center gap-1 sm:gap-2 uppercase tracking-wide font-display">
                        <span>üêç</span> <span class="truncate">Python</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</nav>

    <main class="pt-32 pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto min-h-screen">

        <div class="text-center max-w-3xl mx-auto mb-16 animate-fade-in-up">
            
            <h1
                class="text-5xl md:text-6xl font-display font-extrabold text-slate-900 tracking-tight mb-6 leading-tight">
                Data Driven <br />
                <span
                    class="bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-violet-600 to-purple-600">Decision
                    Intelligence</span>
            </h1>
        </div>

        <div id="content-tableau" class="transition-all duration-500 ease-in-out opacity-100 block space-y-8">



            <div class="bg-white rounded-3xl shadow-2xl border border-slate-200/60 overflow-hidden ring-1 ring-slate-900/5 animate-fade-in-up"
    style="animation-delay: 0.1s;">

    <!-- TOP SECTION (NOW: KEY INSIGHTS) -->
    <div class="bg-slate-50/80 backdrop-blur border-b border-slate-100 px-8 py-5 flex items-start gap-4">
        <div class="bg-indigo-100 text-indigo-600 p-2 rounded-lg shrink-0">
            <span class="text-lg">üí°</span>
        </div>
        <div>
            <h3 class="font-display font-bold text-slate-900 text-sm uppercase tracking-wide mb-1">
                Key Insights
            </h3>
            <p class="text-sm text-slate-600 leading-relaxed">
                ‚Ä¢	Aadhaar	service	demand	in	most	districts	is	driven	more	by	demographic	and	biometric	updates	than	by	new	enrolments.
                <br>
‚Ä¢	Update	pressure	is	uneven	across	districts,	identifying	areas	with	higher	operational	workload. <br>
‚Ä¢	Demand	volatility	highlights	the	need	for	ongoing	monitoring	and	flexible	deployment	of	staff	and	resources.
            </p>
        </div>
    </div>

    <!-- TABLEAU VIS -->
    <div class="bg-white relative min-h-[600px] border-b border-slate-100">
        <div class='tableauPlaceholder w-full flex justify-center' id='viz1768390086190' style='position: relative'>
            <noscript>
                <a href='#'>
                    <img alt='Aadhaar Service Demand'
                        src='https://public.tableau.com/static/images/9R/9RCB3QHG5/1_rss.png'
                        style='border: none' />
                </a>
            </noscript>
            <object class='tableauViz' style='display:none;'>
                <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                <param name='embed_code_version' value='3' />
                <param name='path' value='shared/9RCB3QHG5' />
                <param name='toolbar' value='yes' />
                <param name='static_image'
                    value='https://public.tableau.com/static/images/9R/9RCB3QHG5/1.png' />
                <param name='animate_transition' value='yes' />
                <param name='display_static_image' value='yes' />
                <param name='display_spinner' value='yes' />
                <param name='display_overlay' value='yes' />
                <param name='display_count' value='yes' />
                <param name='language' value='en-US' />
            </object>
        </div>
    </div>

    <!-- BOTTOM SECTION -->
    <div
        class="bg-indigo-50/30 px-8 py-5 flex flex-col md:flex-row gap-6 divide-y md:divide-y-0 md:divide-x divide-indigo-100">

        <!-- NOW: PROBLEM STATEMENT -->
        <div class="md:w-1/2 pt-4 md:pt-0">
            <h4
                class="font-display font-bold text-red-700 text-sm uppercase tracking-wide mb-2 flex items-center gap-2">
                <span>‚ö†Ô∏è</span> Problem Statement
            </h4>
            <p class="text-sm text-slate-600 leading-relaxed">
                ‚Ä¢ <strong>Operational overload</strong> due to high volume of Aadhaar updates compared to new enrolments. <br>
                ‚Ä¢ <strong>Uneven district-wise workload</strong>, causing inefficiencies and service delays in high-pressure areas. <br>
                ‚Ä¢ <strong>Unpredictable demand volatility</strong>, making static staffing and infrastructure insufficient.
            </p>
        </div>

        <!-- PROPOSED SOLUTION (UNCHANGED) -->
        <div class="md:w-1/2 pt-4 md:pt-0 md:pl-6">
            <h4
                class="font-display font-bold text-teal-700 text-sm uppercase tracking-wide mb-2 flex items-center gap-2">
                <span>üöÄ</span> Proposed Solution
            </h4>
            <p class="text-sm text-slate-600 leading-relaxed">
                ‚Ä¢ <Strong>Focus more on update services</Strong> since most Aadhaar demand comes from demographic and biometric updates, not new enrolments. <br>
                ‚Ä¢ <strong>Allocate staff and resources based on district demand</strong>, giving more support to high-pressure districts instead of using a one-size-fits-all approach. <br>
                ‚Ä¢ <strong>Monitor demand regularly and respond quickly</strong> by deploying mobile units or extending service hours when update pressure increases.
            </p>
        </div>
    </div>
</div>



            <br>

            
            <div class="bg-white rounded-3xl shadow-2xl border border-slate-200/60 overflow-hidden ring-1 ring-slate-900/5 animate-fade-in-up"
    style="animation-delay: 0.1s;">

    <!-- TOP SECTION (NOW: KEY INSIGHTS) -->
    <div class="bg-slate-50/80 backdrop-blur border-b border-slate-100 px-8 py-5 flex items-start gap-4">
        <div class="bg-indigo-100 text-indigo-600 p-2 rounded-lg shrink-0">
            <span class="text-lg">üí°</span>
        </div>
        <div>
            <h3 class="font-display font-bold text-slate-900 text-sm uppercase tracking-wide mb-1">
                Key Insights
            </h3>
            <p class="text-sm text-slate-600 leading-relaxed">
                ‚Ä¢	Most Aadhaar activity comes from updates, not new enrolments.
                <br>
‚Ä¢	Service load is uneven across districts. <br>
‚Ä¢	Transaction volumes show high monthly fluctuations.
            </p>
        </div>
    </div>

    <!-- TABLEAU VIS -->
    <div class="bg-white relative min-h-[600px] border-b border-slate-100">
        <div class='tableauPlaceholder w-full flex justify-center' id='viz1768390086190' style='position: relative'>
            <noscript>
                <a href='#'>
                    <img alt='Aadhaar Service Demand'
                        src='https://public.tableau.com/static/images/9R/9RCB3QHG5/1_rss.png'
                        style='border: none' />
                </a>
            </noscript>
            <object class='tableauViz' style='display:none;'>
                <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                <param name='embed_code_version' value='3' />
                <param name='path' value='shared/9RCB3QHG5' />
                <param name='toolbar' value='yes' />
                <param name='static_image'
                    value='https://public.tableau.com/static/images/9R/9RCB3QHG5/1.png' />
                <param name='animate_transition' value='yes' />
                <param name='display_static_image' value='yes' />
                <param name='display_spinner' value='yes' />
                <param name='display_overlay' value='yes' />
                <param name='display_count' value='yes' />
                <param name='language' value='en-US' />
            </object>
        </div>
    </div>

    <!-- BOTTOM SECTION -->
    <div
        class="bg-indigo-50/30 px-8 py-5 flex flex-col md:flex-row gap-6 divide-y md:divide-y-0 md:divide-x divide-indigo-100">

        <!-- NOW: PROBLEM STATEMENT -->
        <div class="md:w-1/2 pt-4 md:pt-0">
            <h4
                class="font-display font-bold text-red-700 text-sm uppercase tracking-wide mb-2 flex items-center gap-2">
                <span>‚ö†Ô∏è</span> Problem Statement
            </h4>
            <p class="text-sm text-slate-600 leading-relaxed">
                ‚Ä¢ Records can become outdated, causing verification issues.<br>
                ‚Ä¢ Some districts face overcrowding and delays. <br>
                ‚Ä¢ Sudden demand spikes strain infrastructure.
            </p>
        </div>

        <!-- PROPOSED SOLUTION (UNCHANGED) -->
        <div class="md:w-1/2 pt-4 md:pt-0 md:pl-6">
            <h4
                class="font-display font-bold text-teal-700 text-sm uppercase tracking-wide mb-2 flex items-center gap-2">
                <span>üöÄ</span> Proposed Solution
            </h4>
            <p class="text-sm text-slate-600 leading-relaxed">
                ‚Ä¢ <STRong>Use machine learning to predict</STRong> users likely to need Aadhaar updates and automatically send SMS/app alerts. <br>
                ‚Ä¢ <STRong>Continuously analyze district-level data</STRong> to dynamically redistribute staff, devices, and appointment slots.<br>
                ‚Ä¢ <STRong>Apply time-series forecasting</STRong> to predict demand spikes and trigger early alerts for capacity scaling.
            </p>
        </div>
    </div>
</div>


            

            <br>

             

            
        </div>

        <div id="content-sql" class="hidden opacity-0 transition-all duration-500 ease-in-out">
            <div class="space-y-6">
                <script>
                    const sqlQueries = [
                        {
                            title: "Youth Ratio by State",
                            desc: "Identifying which states have the highest share of school-age population (5‚Äì17) compared to total population enrolled.",
                            insight: "UP, Bihar, MP, and Rajasthan show a youth-heavy population base, crossing 40%‚Äîindicating future education system pressure.",
                            solution: "Expand schooling capacity, train more teachers, and accelerate digital learning investments in youth-dominant states."
                        },
                        {
                            title: "District Average Enrollment Load",
                            desc: "Measures average population load per district based on total Aadhaar enrollment and demographic spread.",
                            insight: "Several districts in populous states show double the average enrollment responsibility, highlighting service bottlenecks.",
                            solution: "Increase field offices, deploy mobile UIDAI units, and assign more operators to overburdened districts."
                        },
                        {
                            title: "Dependency Burden per District",
                            desc: "Evaluates how many school-age dependents exist relative to working population in each district.",
                            insight: "Rural districts display significantly higher child dependency ratios, stressing schooling and nutrition systems.",
                            solution: "Target schemes like mid-day meals, ICDS, and scholarships in heavy dependency districts to support school-age population."
                        },
                        {
                            title: "Children per 100 Working Adults",
                            desc: "Computes number of children aged 5‚Äì17 for every 100 registered adults across states.",
                            insight: "Rural belts show nearly twice the child burden of urban centers, indicating uneven demographic youth concentration.",
                            solution: "Direct rural-first investments‚Äîpediatric hospitals, teacher postings, school infrastructure, and health services."
                        },
                        {
                            title: "District Contribution to Enrollment",
                            desc: "Identifies how much each district contributes to total state-level Aadhaar demographic enrollment.",
                            insight: "Highly skewed contributions found‚Äîjust 5‚Äì10 districts account for more than half of the total enrollments in their states.",
                            solution: "Strategically place UIDAI staffing, equipment, and service centers in top districts handling the bulk of enrollments."
                        }
                    ];

                    document.write(sqlQueries.map((q, index) => `
    <div class="glass-card rounded-2xl p-2 overflow-hidden animate-fade-in-up" style="animation-delay: ${index * 0.1}s">
        <div class="bg-white rounded-xl p-6">
            <div class="flex flex-col lg:flex-row gap-7">
                
                <div class="lg:w-5/12 space-y-5 flex flex-col justify-center">
                    
                    <div class="flex items-center gap-3">
                        <span class="bg-slate-100 text-slate-600 text-xs font-bold px-2.5 py-1 rounded uppercase tracking-wider">
                            Query ${index + 1}
                        </span>
                        <h3 class="font-display font-bold text-xl text-slate-900 leading-tight">
                            ${q.title}
                        </h3>
                    </div>

                    <div class="border-l-2 border-indigo-500 pl-5 py-1">
                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5">
                            Problem Statement
                        </h4>
                        <p class="text-base text-slate-700 font-medium leading-snug">
                            ${q.desc}
                        </p>
                    </div>

                    <div class="bg-slate-50 p-4 rounded-lg border border-slate-100">
                        <h4 class="text-xs font-bold text-indigo-500 uppercase tracking-widest mb-2">
                            Insight & Solution
                        </h4>
                        <p class="text-sm text-slate-600 mb-2">
                            <strong class="text-slate-800">Insight:</strong> ${q.insight}
                        </p>
                        <p class="text-sm text-slate-600">
                            <strong class="text-slate-800">Solution:</strong> ${q.solution}
                        </p>
                    </div>
                </div>

                <div class="lg:w-7/12 relative group">
                    <div class="flex justify-between items-center mb-3 px-1">
                        <span class="text-slate-400 text-xs font-mono">
                            Query${index + 1}.csv
                        </span>
                        <div class="flex items-center gap-2">
                            <button onclick="toggleDataView(${index}, 'table')" 
                                class="text-xs font-bold px-4 py-1.5 rounded-full transition-colors bg-indigo-100 text-indigo-700"
                                id="btn-table-${index}">
                                Table
                            </button>
                            <button onclick="toggleDataView(${index}, 'graph')" 
                                class="text-xs font-bold px-4 py-1.5 rounded-full transition-colors bg-white text-slate-500 hover:bg-slate-100"
                                id="btn-graph-${index}">
                                Graph
                            </button>
                        </div>
                    </div>

                    <div class="rounded-xl border border-slate-200 bg-white shadow-sm h-72 overflow-hidden relative">
                        
                        <div id="view-table-${index}" class="h-full overflow-auto custom-scroll w-full">
                            <table class="w-full text-sm text-left text-slate-600 data-table-placeholder">
                                <thead class="bg-slate-50 sticky top-0 text-slate-900 font-bold border-b border-slate-200"></thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr>
                                        <td class="p-10 text-center text-slate-500">
                                            Loading Data...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div id="view-graph-${index}" class="h-full w-full hidden p-3 flex items-center justify-center bg-white relative">
                            <div class="absolute inset-0 w-full h-full p-3">
                                <canvas id="chart-${index}"></canvas>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
`).join(''));
</script>

            </div>
        </div>

        <div id="content-python" class="hidden opacity-0 transition-all duration-500 ease-in-out">
            <div class="space-y-6">
                <script>
                    const pythonAnalyses = [
                        {
                            title: "Predictive Enrollment Forecasting",
                            desc: "Need to predict Aadhaar enrollment demand for the next 12 months to optimize resource allocation, staffing, and infrastructure planning across different regions to prevent bottlenecks.",
                            insight: "Time-series analysis (Prophet) indicates a predictable seasonal peak in August (+18.7% growth).",
                            solution: "Pre-allocate 20% extra server capacity and field staff in Q3 to handle the predicted surge."
                        },
                        {
                            title: "Regional Cluster Analysis",
                            desc: "Categorizing districts based on demographic enrollment speed to identify areas with lagging adoption rates.",
                            insight: "K-Means clustering identified 4 distinct profiles. 'Cluster D' (Rural North) is lagging by 15% vs national average.",
                            solution: "Deploy mobile enrollment vans specifically to 'Cluster D' regions to bridge the gap."
                        },
                        {
                            title: "Anomaly Detection in Updates",
                            desc: "Detecting fraudulent or erroneous demographic update requests using isolation forest algorithms.",
                            insight: "Detected 450+ bulk update requests from a single IP range, flagged as potential bot activity.",
                            solution: "Implemented a rate-limiting API gateway and flagged these records for manual verification."
                        }
                    ];

                    document.write(pythonAnalyses.map((q, index) => `
                        <div class="glass-card rounded-2xl p-1 overflow-hidden animate-fade-in-up" style="animation-delay: ${index * 0.1}s">
                            <div class="bg-white rounded-xl p-5">
                                <div class="flex flex-col lg:flex-row gap-6">
                                    
                                    <div class="lg:w-5/12 space-y-4 flex flex-col justify-center">
                                        <div class="flex items-center gap-3">
                                            <span class="bg-slate-100 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider">Model ${index + 1}</span>
                                            <h3 class="font-display font-bold text-lg text-slate-900 leading-tight">${q.title}</h3>
                                        </div>
                                        
                                        <div class="border-l-2 border-indigo-500 pl-4 py-1">
                                            <h4 class="text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-1">Problem Statement</h4>
                                            <p class="text-sm text-slate-700 font-medium leading-snug">${q.desc}</p>
                                        </div>
                                        
                                        <div class="bg-slate-50 p-3 rounded-lg border border-slate-100">
                                            <h4 class="text-[11px] font-bold text-indigo-500 uppercase tracking-widest mb-2">Insight & Solution</h4>
                                            <p class="text-xs text-slate-600 mb-1.5"><strong class="text-slate-800">Insight:</strong> ${q.insight}</p>
                                            <p class="text-xs text-slate-600"><strong class="text-slate-800">Solution:</strong> ${q.solution}</p>
                                        </div>
                                    </div>

                                    <div class="lg:w-7/12 relative group">
                                        <div class="flex justify-between items-center mb-2 px-1">
                                            <span class="text-slate-400 text-[10px] font-mono">analysis_output_${index + 1}.png</span>
                                            <div class="flex items-center gap-2">
                                                 <span class="text-[10px] font-bold px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100">94.2% Accuracy</span>
                                            </div>
                                        </div>

                                        <div class="rounded-xl border border-slate-200 bg-slate-50 shadow-sm h-64 overflow-hidden relative flex items-center justify-center">
                                            <img src="https://placehold.co/800x400/f8fafc/6366f1?text=Python+Analysis+Graph+${index + 1}" 
                                                 alt="${q.title} Graph" 
                                                 class="w-full h-full object-cover hover:scale-105 transition-transform duration-500">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join(''));
                </script>
            </div>
        </div>

    </main>

    <footer class="mt-auto border-t border-slate-200 bg-white/50 backdrop-blur-md z-10 relative py-8">
        <div
            class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-center items-center gap-4">
            <p class="text-slate-400 text-sm font-medium">
                &copy; 2026 Aadhaar Insights Pro.
            </p>
          
        </div>
    </footer>

    <script type='text/javascript'>
        // --- 1. Tab Switching Logic ---
        function switchTab(tabName) {
            const contentTableau = document.getElementById('content-tableau');
            const contentSql = document.getElementById('content-sql');
            const contentPython = document.getElementById('content-python');
            
            const btnTableau = document.getElementById('nav-btn-tableau');
            const btnSql = document.getElementById('nav-btn-sql');
            const btnPython = document.getElementById('nav-btn-python');
            const slider = document.getElementById('nav-slider');

            const allContents = [contentTableau, contentSql, contentPython];
            const allBtns = [btnTableau, btnSql, btnPython];

            allBtns.forEach(btn => {
                btn.classList.remove('text-indigo-600');
                btn.classList.add('text-slate-500');
            });

            allContents.forEach(content => {
                content.classList.add('opacity-0');
                setTimeout(() => content.classList.add('hidden'), 300);
            });

            if (tabName === 'tableau') {
                slider.style.transform = 'translateX(0%)';
                btnTableau.classList.add('text-indigo-600');
                btnTableau.classList.remove('text-slate-500');
                
                setTimeout(() => {
                    contentTableau.classList.remove('hidden');
                    setTimeout(() => contentTableau.classList.remove('opacity-0'), 10);
                }, 300);
            } 
            else if (tabName === 'sql') {
                slider.style.transform = 'translateX(100%)';
                btnSql.classList.add('text-indigo-600');
                btnSql.classList.remove('text-slate-500');

                setTimeout(() => {
                    contentSql.classList.remove('hidden');
                    setTimeout(() => contentSql.classList.remove('opacity-0'), 10);
                }, 300);
            }
            else if (tabName === 'python') {
                slider.style.transform = 'translateX(200%)';
                btnPython.classList.add('text-indigo-600');
                btnPython.classList.remove('text-slate-500');

                setTimeout(() => {
                    contentPython.classList.remove('hidden');
                    setTimeout(() => contentPython.classList.remove('opacity-0'), 10);
                }, 300);
            }
        }

        // --- 2. SQL Toggle: Table vs Graph ---
        function toggleDataView(index, viewType) {
            const tableView = document.getElementById(`view-table-${index}`);
            const graphView = document.getElementById(`view-graph-${index}`);
            const btnTable = document.getElementById(`btn-table-${index}`);
            const btnGraph = document.getElementById(`btn-graph-${index}`);

            if (viewType === 'table') {
                tableView.classList.remove('hidden');
                graphView.classList.add('hidden');
                btnTable.className = "text-[10px] font-bold px-3 py-1 rounded-full transition-colors bg-indigo-100 text-indigo-700";
                btnGraph.className = "text-[10px] font-bold px-3 py-1 rounded-full transition-colors bg-white text-slate-500 hover:bg-slate-100";
            } else {
                tableView.classList.add('hidden');
                graphView.classList.remove('hidden');
                btnTable.className = "text-[10px] font-bold px-3 py-1 rounded-full transition-colors bg-white text-slate-500 hover:bg-slate-100";
                btnGraph.className = "text-[10px] font-bold px-3 py-1 rounded-full transition-colors bg-indigo-100 text-indigo-700";
                renderChart(index);
            }
        }

        // --- 3. Chart.js Logic ---
        function renderChart(index) {
            const chartCanvas = document.getElementById(`chart-${index}`);
            if (chartCanvas.chartInstance) return;

            // Get data from the ALREADY LOADED table in HTML
            const table = document.querySelectorAll('.data-table-placeholder')[index];
            const rows = table.querySelectorAll('tbody tr');
            const headers = table.querySelectorAll('thead th');

            let labels = [];
            let data = [];
            let labelIndex = 0;
            let valueIndex = -1;

            // Find valid numeric column
            const sampleRow = rows[0];
            if (sampleRow) {
                const cells = sampleRow.querySelectorAll('td');
                for (let i = 0; i < cells.length; i++) {
                    const txt = cells[i].innerText.replace(/['",]/g, '');
                    if (!isNaN(parseFloat(txt)) && isFinite(txt) && txt.trim() !== '') {
                        valueIndex = i;
                        break;
                    }
                }
            }
            if (valueIndex === -1) valueIndex = 1;

            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                if (cells.length > valueIndex) {
                    labels.push(cells[labelIndex].innerText.replace(/['"]/g, ''));
                    let val = parseFloat(cells[valueIndex].innerText.replace(/['",]/g, ''));
                    if (isNaN(val)) val = 0;
                    data.push(val);
                }
            });

            // Fallback for empty/loading
            if (data.length === 0 || (labels.length === 1 && labels[0] === "Loading Data...")) {
               return; // Don't render empty chart
            }

            const ctx = chartCanvas.getContext('2d');
            chartCanvas.chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: headers[valueIndex] ? headers[valueIndex].innerText.replace(/['"]/g,'') : 'Value',
                        data: data,
                        backgroundColor: 'rgba(79, 70, 229, 0.6)',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        borderWidth: 1,
                        borderRadius: 4,
                        barThickness: 'flex',
                        maxBarThickness: 40
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                        x: { grid: { display: false }, ticks: { font: { size: 9 } } }
                    }
                }
            });
        }

        // --- 4. YOUR UPDATED CSV LOADER ---
        async function loadAllSqlTables() {
            // Get all table elements
            const tables = document.querySelectorAll('.data-table-placeholder');

            // Iterate through each table individually
            tables.forEach(async (table, index) => {
                try {
                    // 1. Dynamically create the filename based on the index
                    // Ensures Index 0 loads Q1.csv, Index 1 loads Q2.csv, etc.
                    const fileName = `Q${index + 1}.csv`; 

                    const response = await fetch(fileName);
                    if (!response.ok) throw new Error(`File ${fileName} not found`);
                    
                    const csvText = await response.text();
                    const lines = csvText.trim().split('\n');
                    
                    if (lines.length === 0) return;
                    
                    // 2. Parse Data
                    const headers = lines[0].split(',').map(h => h.trim().replace(/['"]/g, ''));
                    const rows = lines.slice(1).map(line => line.split(',').map(c => c.trim().replace(/['"]/g, '')));

                    // 3. Build HTML for THIS specific table
                    let headerHTML = '<thead class="bg-slate-50 sticky top-0 text-slate-900 font-bold border-b border-slate-200"><tr>';
                    headers.forEach(h => headerHTML += `<th class="px-4 py-3 whitespace-nowrap text-[10px] uppercase tracking-wider">${h}</th>`);
                    headerHTML += '</tr></thead>';

                    let bodyHTML = '<tbody class="divide-y divide-slate-100">';
                    rows.forEach(row => {
                        // Basic validation to ensure row matches header length
                        if (row.length >= headers.length) { 
                            bodyHTML += '<tr class="hover:bg-indigo-50/30 transition-colors">';
                            row.forEach((cell, i) => {
                                // Only process up to the number of headers
                                if(i < headers.length) {
                                    const colorClass = i === 0 ? "text-indigo-700 font-semibold" : "text-slate-600";
                                    bodyHTML += `<td class="px-4 py-2 whitespace-nowrap ${colorClass}">${cell}</td>`;
                                }
                            });
                            bodyHTML += '</tr>';
                        }
                    });
                    bodyHTML += '</tbody>';

                    // 4. Update ONLY the current table element
                    table.innerHTML = headerHTML + bodyHTML;

                } catch (error) {
                    console.log(`Error loading Q${index + 1}.csv:`, error);
                    table.innerHTML = `<tbody><tr><td class="p-4 text-red-500 text-center bg-white">Failed to load Q${index + 1}.csv</td></tr></tbody>`;
                }
            });
        } 

        // Initialize Loading
        loadAllSqlTables();

        // --- Tableau Script Integration ---
        var divElement = document.getElementById('viz1768390086190');
        var vizElement = divElement.getElementsByTagName('object')[0];
        
        if (divElement.offsetWidth > 800) { 
            vizElement.style.minWidth='100%'; vizElement.style.maxWidth='100%'; vizElement.style.width='100%'; vizElement.style.minHeight='827px'; vizElement.style.maxHeight='887px'; vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
        } else if (divElement.offsetWidth > 500) { 
            vizElement.style.minWidth='100%'; vizElement.style.maxWidth='100%'; vizElement.style.width='100%'; vizElement.style.minHeight='827px'; vizElement.style.maxHeight='887px'; vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
        } else { 
            vizElement.style.width='100%'; vizElement.style.height='1627px';
        }
        
        var scriptElement = document.createElement('script');
        scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
        vizElement.parentNode.insertBefore(scriptElement, vizElement);

    </script>
</body>

</html>